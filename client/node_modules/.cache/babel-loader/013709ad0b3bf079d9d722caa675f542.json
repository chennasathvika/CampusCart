{"ast":null,"code":"import _classCallCheck from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\BESit\\\\client\\\\src\\\\components\\\\User\\\\RadialChart.js\";\nimport React, { Component } from 'react';\nimport Chart from 'react-apexcharts';\nimport axios from 'axios';\nimport './Radial.css';\nvar RadialChart = /*#__PURE__*/function (_Component) {\n  _inherits(RadialChart, _Component);\n  function RadialChart() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, RadialChart);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(RadialChart)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      labels: [],\n      options: {\n        labels: [],\n        radialBar: {\n          dataLabels: {\n            name: {\n              fontSize: '22px'\n            },\n            value: {\n              fontSize: '16px'\n            }\n          }\n        }\n      },\n      series: [1]\n    };\n    return _this;\n  }\n  _createClass(RadialChart, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      console.log('mount');\n      axios.get('/api/getcategories').then(function (res) {\n        var categories = [];\n        for (var i = 0; i < res.data.length; i++) categories.push(res.data[i].name);\n        console.log(categories);\n        var map1 = new Map();\n        _this2.setState({\n          options: {\n            labels: categories\n          }\n        });\n        console.log(_this2.state.options.labels);\n        axios.get('/api/getallprods').then(function (res) {\n          //console.log(res.data);\n          for (var _i = 0; _i < res.data.length; _i++) {\n            var category_ = res.data[_i].category;\n            if (map1.has(category_)) {\n              var x = map1.get(category_);\n              map1.set(category_, 1 + x);\n            } else map1.set(category_, 1);\n          }\n          var val = [],\n            sum = 0;\n          for (var _i2 = 0; _i2 < categories.length; _i2++) {\n            if (map1.has(categories[_i2])) {\n              var _x = map1.get(categories[_i2]);\n              val.push(_x);\n              console.log(_x);\n              sum = sum + _x;\n            } else val.push(0);\n          }\n          console.log(sum);\n          for (var _i3 = 0; _i3 < val.length; _i3++) {\n            val[_i3] = val[_i3] / sum * 100;\n            val[_i3] = val[_i3].toPrecision(4);\n          }\n          _this2.setState({\n            series: val\n          });\n          console.log(_this2.state.series);\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.state.options.labels ? /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"radial-chart\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 25\n        }\n      }, \"Categories\")), /*#__PURE__*/React.createElement(\"h6\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }\n      }, \"populated by %\"), console.log(this.state.options.labels), console.log(this.state.series), /*#__PURE__*/React.createElement(Chart, {\n        options: this.state.options,\n        series: this.state.series,\n        type: \"radialBar\",\n        height: \"500\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }\n      })), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 17\n        }\n      }), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 23\n        }\n      })) : /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 12\n        }\n      }, console.log('no'));\n    }\n  }]);\n  return RadialChart;\n}(Component);\nexport default RadialChart;","map":{"version":3,"names":["React","Component","Chart","axios","RadialChart","_Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","state","labels","options","radialBar","dataLabels","name","fontSize","value","series","_createClass","key","componentDidMount","_this2","console","log","get","then","res","categories","i","data","push","map1","Map","setState","category_","category","has","x","set","val","sum","toPrecision","render","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","type","height"],"sources":["D:/BESit/client/src/components/User/RadialChart.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Chart from 'react-apexcharts';\r\nimport axios from 'axios';\r\nimport './Radial.css';\r\n\r\nclass RadialChart extends Component\r\n{\r\n    state = \r\n    {\r\n        labels: [],\r\n        \r\n        options: \r\n        {\r\n            labels: [],\r\n            radialBar: \r\n            {\r\n                dataLabels: \r\n                {\r\n                    name: \r\n                    {\r\n                        fontSize: '22px',\r\n                    },\r\n                    value: \r\n                    {\r\n                        fontSize: '16px',\r\n                    },\r\n                }\r\n            }\r\n        },\r\n\r\n        series: [1]\r\n    }\r\n\r\n    componentDidMount()\r\n    {\r\n        console.log('mount');\r\n        axios.get('/api/getcategories').then(res =>\r\n        {\r\n            let categories = []\r\n            for(let i=0;i<res.data.length;i++)\r\n                categories.push(res.data[i].name);\r\n            console.log(categories);\r\n            let map1 = new Map();\r\n            this.setState(\r\n            {\r\n                options:\r\n                {\r\n                    labels: categories\r\n                }\r\n            });\r\n            console.log(this.state.options.labels);\r\n            axios.get('/api/getallprods').then(res =>\r\n            {\r\n                //console.log(res.data);\r\n                for(let i=0;i<res.data.length;i++)\r\n                {\r\n                    let category_ = (res.data[i]).category;\r\n                    if(map1.has(category_))\r\n                    {\r\n                        let x = map1.get(category_);\r\n                        map1.set(category_,1+x);\r\n                    }\r\n                    else\r\n                        map1.set(category_,1);\r\n                }\r\n                let val = [], sum = 0;\r\n                for(let i=0;i<categories.length;i++)\r\n                {\r\n                    if(map1.has(categories[i]))\r\n                    {\r\n                        let x = map1.get(categories[i]);\r\n                        val.push(x);\r\n                        console.log(x);\r\n                        sum = sum + x;\r\n                    }\r\n                    else\r\n                        val.push(0);\r\n                }\r\n                console.log(sum);\r\n                for(let i=0;i<val.length;i++) {\r\n                    val[i] = ((val[i]/sum)*100);\r\n                    val[i] = val[i].toPrecision(4);\r\n                }\r\n                this.setState(\r\n                {\r\n                    series: val\r\n                });\r\n                console.log(this.state.series);\r\n            });\r\n        });\r\n    }\r\n\r\n    render()\r\n    {\r\n        return this.state.options.labels?\r\n        (\r\n            <div>\r\n                <div className = \"radial-chart\">\r\n                    <h5><strong>Categories</strong></h5>\r\n                    <h6>populated by %</h6>\r\n                    {console.log(this.state.options.labels)}\r\n                    {console.log(this.state.series)}\r\n                    <Chart options={this.state.options} series={this.state.series} type=\"radialBar\" height=\"500\" />\r\n                </div>\r\n                <br /><br />\r\n            </div>\r\n        ):(<div>{console.log('no')}</div>)\r\n    }\r\n}\r\n\r\nexport default RadialChart;\r\n"],"mappings":";;;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,kBAAkB;AACpC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,cAAc;AAAC,IAEhBC,WAAW,0BAAAC,UAAA;EAAAC,SAAA,CAAAF,WAAA,EAAAC,UAAA;EAAA,SAAAD,YAAA;IAAA,IAAAG,gBAAA;IAAA,IAAAC,KAAA;IAAAC,eAAA,OAAAL,WAAA;IAAA,SAAAM,IAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAC,IAAA,OAAAC,KAAA,CAAAJ,IAAA,GAAAK,IAAA,MAAAA,IAAA,GAAAL,IAAA,EAAAK,IAAA;MAAAF,IAAA,CAAAE,IAAA,IAAAJ,SAAA,CAAAI,IAAA;IAAA;IAAAP,KAAA,GAAAQ,0BAAA,QAAAT,gBAAA,GAAAU,eAAA,CAAAb,WAAA,GAAAc,IAAA,CAAAC,KAAA,CAAAZ,gBAAA,SAAAa,MAAA,CAAAP,IAAA;IAAAL,KAAA,CAEba,KAAK,GACL;MACIC,MAAM,EAAE,EAAE;MAEVC,OAAO,EACP;QACID,MAAM,EAAE,EAAE;QACVE,SAAS,EACT;UACIC,UAAU,EACV;YACIC,IAAI,EACJ;cACIC,QAAQ,EAAE;YACd,CAAC;YACDC,KAAK,EACL;cACID,QAAQ,EAAE;YACd;UACJ;QACJ;MACJ,CAAC;MAEDE,MAAM,EAAE,CAAC,CAAC;IACd,CAAC;IAAA,OAAArB,KAAA;EAAA;EAAAsB,YAAA,CAAA1B,WAAA;IAAA2B,GAAA;IAAAH,KAAA,WAAAI,kBAAA,EAGD;MAAA,IAAAC,MAAA;MACIC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC;MACpBhC,KAAK,CAACiC,GAAG,CAAC,oBAAoB,CAAC,CAACC,IAAI,CAAC,UAAAC,GAAG,EACxC;QACI,IAAIC,UAAU,GAAG,EAAE;QACnB,KAAI,IAAIC,CAAC,GAAC,CAAC,EAACA,CAAC,GAACF,GAAG,CAACG,IAAI,CAAC7B,MAAM,EAAC4B,CAAC,EAAE,EAC7BD,UAAU,CAACG,IAAI,CAACJ,GAAG,CAACG,IAAI,CAACD,CAAC,CAAC,CAACd,IAAI,CAAC;QACrCQ,OAAO,CAACC,GAAG,CAACI,UAAU,CAAC;QACvB,IAAII,IAAI,GAAG,IAAIC,GAAG,CAAC,CAAC;QACpBX,MAAI,CAACY,QAAQ,CACb;UACItB,OAAO,EACP;YACID,MAAM,EAAEiB;UACZ;QACJ,CAAC,CAAC;QACFL,OAAO,CAACC,GAAG,CAACF,MAAI,CAACZ,KAAK,CAACE,OAAO,CAACD,MAAM,CAAC;QACtCnB,KAAK,CAACiC,GAAG,CAAC,kBAAkB,CAAC,CAACC,IAAI,CAAC,UAAAC,GAAG,EACtC;UACI;UACA,KAAI,IAAIE,EAAC,GAAC,CAAC,EAACA,EAAC,GAACF,GAAG,CAACG,IAAI,CAAC7B,MAAM,EAAC4B,EAAC,EAAE,EACjC;YACI,IAAIM,SAAS,GAAIR,GAAG,CAACG,IAAI,CAACD,EAAC,CAAC,CAAEO,QAAQ;YACtC,IAAGJ,IAAI,CAACK,GAAG,CAACF,SAAS,CAAC,EACtB;cACI,IAAIG,CAAC,GAAGN,IAAI,CAACP,GAAG,CAACU,SAAS,CAAC;cAC3BH,IAAI,CAACO,GAAG,CAACJ,SAAS,EAAC,CAAC,GAACG,CAAC,CAAC;YAC3B,CAAC,MAEGN,IAAI,CAACO,GAAG,CAACJ,SAAS,EAAC,CAAC,CAAC;UAC7B;UACA,IAAIK,GAAG,GAAG,EAAE;YAAEC,GAAG,GAAG,CAAC;UACrB,KAAI,IAAIZ,GAAC,GAAC,CAAC,EAACA,GAAC,GAACD,UAAU,CAAC3B,MAAM,EAAC4B,GAAC,EAAE,EACnC;YACI,IAAGG,IAAI,CAACK,GAAG,CAACT,UAAU,CAACC,GAAC,CAAC,CAAC,EAC1B;cACI,IAAIS,EAAC,GAAGN,IAAI,CAACP,GAAG,CAACG,UAAU,CAACC,GAAC,CAAC,CAAC;cAC/BW,GAAG,CAACT,IAAI,CAACO,EAAC,CAAC;cACXf,OAAO,CAACC,GAAG,CAACc,EAAC,CAAC;cACdG,GAAG,GAAGA,GAAG,GAAGH,EAAC;YACjB,CAAC,MAEGE,GAAG,CAACT,IAAI,CAAC,CAAC,CAAC;UACnB;UACAR,OAAO,CAACC,GAAG,CAACiB,GAAG,CAAC;UAChB,KAAI,IAAIZ,GAAC,GAAC,CAAC,EAACA,GAAC,GAACW,GAAG,CAACvC,MAAM,EAAC4B,GAAC,EAAE,EAAE;YAC1BW,GAAG,CAACX,GAAC,CAAC,GAAKW,GAAG,CAACX,GAAC,CAAC,GAACY,GAAG,GAAE,GAAI;YAC3BD,GAAG,CAACX,GAAC,CAAC,GAAGW,GAAG,CAACX,GAAC,CAAC,CAACa,WAAW,CAAC,CAAC,CAAC;UAClC;UACApB,MAAI,CAACY,QAAQ,CACb;YACIhB,MAAM,EAAEsB;UACZ,CAAC,CAAC;UACFjB,OAAO,CAACC,GAAG,CAACF,MAAI,CAACZ,KAAK,CAACQ,MAAM,CAAC;QAClC,CAAC,CAAC;MACN,CAAC,CAAC;IACN;EAAC;IAAAE,GAAA;IAAAH,KAAA,WAAA0B,OAAA,EAGD;MACI,OAAO,IAAI,CAACjC,KAAK,CAACE,OAAO,CAACD,MAAM,gBAE5BtB,KAAA,CAAAuD,aAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBACI7D,KAAA,CAAAuD,aAAA;QAAKO,SAAS,EAAG,cAAc;QAAAN,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAC3B7D,KAAA,CAAAuD,aAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,gBAAI7D,KAAA,CAAAuD,aAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAQ,YAAkB,CAAK,CAAC,eACpC7D,KAAA,CAAAuD,aAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAI,gBAAkB,CAAC,EACtB3B,OAAO,CAACC,GAAG,CAAC,IAAI,CAACd,KAAK,CAACE,OAAO,CAACD,MAAM,CAAC,EACtCY,OAAO,CAACC,GAAG,CAAC,IAAI,CAACd,KAAK,CAACQ,MAAM,CAAC,eAC/B7B,KAAA,CAAAuD,aAAA,CAACrD,KAAK;QAACqB,OAAO,EAAE,IAAI,CAACF,KAAK,CAACE,OAAQ;QAACM,MAAM,EAAE,IAAI,CAACR,KAAK,CAACQ,MAAO;QAACkC,IAAI,EAAC,WAAW;QAACC,MAAM,EAAC,KAAK;QAAAR,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAE,CAC7F,CAAC,eACN7D,KAAA,CAAAuD,aAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAK,CAAC,eAAA7D,KAAA,CAAAuD,aAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,CAAK,CACV,CAAC,gBACP7D,KAAA,CAAAuD,aAAA;QAAAC,MAAA;QAAAC,QAAA;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA;MAAA,GAAM3B,OAAO,CAACC,GAAG,CAAC,IAAI,CAAO,CAAE;IACtC;EAAC;EAAA,OAAA/B,WAAA;AAAA,EAtGqBH,SAAS;AAyGnC,eAAeG,WAAW"},"metadata":{},"sourceType":"module"}