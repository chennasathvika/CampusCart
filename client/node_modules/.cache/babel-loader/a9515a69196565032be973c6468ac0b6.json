{"ast":null,"code":"import _classCallCheck from \"D:\\\\CampusCart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\CampusCart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\CampusCart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\CampusCart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\CampusCart\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\CampusCart\\\\client\\\\src\\\\components\\\\User\\\\Requireitem.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport Reqitem from './Reqitem';\nimport './../Requirements/Requirements.css';\nvar Requireitem = /*#__PURE__*/function (_Component) {\n  _inherits(Requireitem, _Component);\n  function Requireitem() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, Requireitem);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Requireitem)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      requirements: [],\n      reqavailable: false\n    };\n    _this.getReq = function () {\n      if (_this.props.user) {\n        axios.get('/api/getownreq', {\n          params: {\n            username: _this.props.user.username\n          }\n        }).then(function (res) {\n          _this.setState({\n            requirements: res.data.reverse(),\n            reqavailable: true\n          });\n        });\n      }\n    };\n    _this.handleDelete = function () {\n      if (_this.state.reqavailable) {\n        axios.get('/api/getownreq', {\n          params: {\n            username: _this.props.user.username\n          }\n        }).then(function (res) {\n          _this.setState({\n            requirements: res.data.reverse(),\n            reqavailable: true\n          });\n        });\n      }\n    };\n    return _this;\n  }\n  _createClass(Requireitem, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      if (this.props.user && !this.state.reqavailable) {\n        this.getReq();\n      }\n      var displayItems = this.state.requirements.length > 0 ? this.state.requirements.map(function (requirement) {\n        return /*#__PURE__*/React.createElement(Reqitem, {\n          key: requirement._id,\n          requirement: requirement,\n          user: _this2.props.user,\n          delete: _this2.handleDelete,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 11\n          }\n        });\n      }) : /*#__PURE__*/React.createElement(\"h2\", {\n        style: {\n          marginTop: '15px',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 9\n        }\n      }, \"No requirements to display\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          marginBottom: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }\n      }, displayItems)));\n    }\n  }]);\n  return Requireitem;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userLoggedIn: state.userLoggedIn,\n    user: state.user\n  };\n};\nexport default connect(mapStateToProps)(Requireitem);","map":{"version":3,"names":["React","Component","axios","connect","Reqitem","Requireitem","_Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","state","requirements","reqavailable","getReq","props","user","get","params","username","then","res","setState","data","reverse","handleDelete","_createClass","key","value","render","_this2","displayItems","map","requirement","createElement","_id","delete","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","textAlign","className","marginBottom","mapStateToProps","userLoggedIn"],"sources":["D:/CampusCart/client/src/components/User/Requireitem.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport Reqitem from './Reqitem';\r\nimport './../Requirements/Requirements.css';\r\nclass Requireitem extends Component {\r\n  state =\r\n    {\r\n      requirements: [],\r\n      reqavailable: false\r\n    };\r\n\r\n  getReq = () => {\r\n    if (this.props.user) {\r\n      axios.get('/api/getownreq', {\r\n        params: {\r\n          username: this.props.user.username\r\n        }\r\n      }).then(res => {\r\n        this.setState(\r\n          {\r\n            requirements: res.data.reverse(),\r\n            reqavailable: true\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  handleDelete = () => {\r\n    if (this.state.reqavailable) {\r\n      axios.get('/api/getownreq', {\r\n        params: {\r\n          username: this.props.user.username\r\n        }\r\n      }).then(res => {\r\n        this.setState(\r\n          {\r\n            requirements: res.data.reverse(),\r\n            reqavailable: true\r\n          });\r\n      });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.user && !this.state.reqavailable) {\r\n      this.getReq();\r\n    }\r\n\r\n    let displayItems = this.state.requirements.length > 0 ? (\r\n      this.state.requirements.map((requirement) => {\r\n        return (\r\n          <Reqitem key={requirement._id} requirement={requirement} user={this.props.user} delete={this.handleDelete} />\r\n        )\r\n      })\r\n    ) : (\r\n        <h2 style={{ marginTop: '15px', textAlign: 'center' }}>No requirements to display</h2>\r\n      );\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div className=\"container\" style={{ marginBottom: \"20px\" }}>\r\n            {displayItems}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userLoggedIn: state.userLoggedIn,\r\n    user: state.user\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(Requireitem);"],"mappings":"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"},"metadata":{},"sourceType":"module"}