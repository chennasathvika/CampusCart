{"ast":null,"code":"import _classCallCheck from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\BESit\\\\client\\\\src\\\\components\\\\User\\\\InterestedHistory.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport Interesteditem from './Interesteditem';\nimport { connect } from 'react-redux';\nvar InterestedHistory = /*#__PURE__*/function (_Component) {\n  _inherits(InterestedHistory, _Component);\n  function InterestedHistory() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, InterestedHistory);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(InterestedHistory)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      items: [],\n      itemsAvailable: false\n    };\n    _this.getItems = function () {\n      console.log(_this.props.user);\n      if (_this.props.user) {\n        axios.get('/api/getInterestedItems', {\n          params: {\n            username: _this.props.user.username\n          }\n        }).then(function (res) {\n          _this.setState({\n            items: res.data.reverse(),\n            itemsAvailable: true\n          });\n        });\n      }\n    };\n    _this.updateInterest = function () {\n      if (_this.state.itemsAvailable) {\n        axios.get('/api/getInterestedItems', {\n          params: {\n            username: _this.props.user.username\n          }\n        }).then(function (res) {\n          _this.setState({\n            items: res.data.reverse(),\n            itemsAvailable: true\n          });\n        });\n      }\n    };\n    return _this;\n  }\n  _createClass(InterestedHistory, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      if (this.props.user && !this.state.itemsAvailable) {\n        this.getItems();\n      }\n      var displayItems = this.state.items.length > 0 ? this.state.items.map(function (item) {\n        return /*#__PURE__*/React.createElement(Interesteditem, {\n          key: item._id,\n          item: item,\n          user: _this2.props.user,\n          update: _this2.updateInterest,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 11\n          }\n        });\n      }) : /*#__PURE__*/React.createElement(\"h2\", {\n        style: {\n          marginTop: '15px',\n          textAlign: 'center'\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 9\n        }\n      }, \"No items available to display\");\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"container\",\n        style: {\n          marginBottom: \"20px\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, displayItems))));\n    }\n  }]);\n  return InterestedHistory;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userLoggedIn: state.userLoggedIn,\n    user: state.user\n  };\n};\nexport default connect(mapStateToProps)(InterestedHistory);","map":{"version":3,"names":["React","Component","axios","Interesteditem","connect","InterestedHistory","_Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","state","items","itemsAvailable","getItems","console","log","props","user","get","params","username","then","res","setState","data","reverse","updateInterest","_createClass","key","value","render","_this2","displayItems","map","item","createElement","_id","update","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","style","marginTop","textAlign","className","marginBottom","mapStateToProps","userLoggedIn"],"sources":["D:/BESit/client/src/components/User/InterestedHistory.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport Interesteditem from './Interesteditem';\r\nimport { connect } from 'react-redux';\r\n\r\nclass InterestedHistory extends Component {\r\n  state = {\r\n    items: [],\r\n    itemsAvailable: false\r\n  }\r\n  getItems = () => {\r\n    console.log(this.props.user);\r\n    if (this.props.user) {\r\n      axios.get('/api/getInterestedItems', {\r\n        params: {\r\n          username: this.props.user.username\r\n        }\r\n      })\r\n        .then(res => {\r\n          this.setState({\r\n            items: res.data.reverse(),\r\n            itemsAvailable: true\r\n          });\r\n        });\r\n    }\r\n  }\r\n  updateInterest = () => {\r\n    if (this.state.itemsAvailable) {\r\n      axios.get('/api/getInterestedItems', {\r\n        params: {\r\n          username: this.props.user.username\r\n        }\r\n      })\r\n        .then(res => {\r\n          this.setState({\r\n            items: res.data.reverse(),\r\n            itemsAvailable: true\r\n          });\r\n        });\r\n    }\r\n  }\r\n\r\n  render() {\r\n    if (this.props.user && !this.state.itemsAvailable) {\r\n      this.getItems();\r\n    }\r\n    let displayItems = this.state.items.length > 0 ? (\r\n      this.state.items.map((item) => {\r\n        return (\r\n          <Interesteditem key={item._id} item={item} user={this.props.user} update={this.updateInterest} />\r\n        )\r\n      })\r\n    ) : (\r\n        <h2 style={{ marginTop: '15px', textAlign: 'center' }}>No items available to display</h2>\r\n      );\r\n    return (\r\n      <div>\r\n        <div>\r\n          <div className=\"container\" style={{ marginBottom: \"20px\" }}>\r\n            <div className=\"row\">\r\n              {displayItems}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userLoggedIn: state.userLoggedIn,\r\n    user: state.user\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(InterestedHistory);"],"mappings":"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"},"metadata":{},"sourceType":"module"}