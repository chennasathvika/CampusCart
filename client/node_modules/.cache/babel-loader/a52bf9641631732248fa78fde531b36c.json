{"ast":null,"code":"import _classCallCheck from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\BESit\\\\client\\\\src\\\\components\\\\Sell\\\\Editform.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport { connect } from 'react-redux';\nimport { withRouter } from 'react-router-dom';\nvar Form = /*#__PURE__*/function (_Component) {\n  _inherits(Form, _Component);\n  function Form() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, Form);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Form)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      files: null,\n      imageAvailable: false,\n      err: false\n    };\n    _this.prevdata = _this.props.formdata;\n    _this.submitForm = function (e) {\n      e.preventDefault();\n      if (_this.state.err) {\n        return;\n      }\n      var formData = {\n        category: e.target[0].value,\n        name: e.target[1].value,\n        price: e.target[2].value,\n        desc: e.target[3].value,\n        timestamp: Date(),\n        owner: _this.props.user.username,\n        status: 'Available'\n      };\n      axios.post('/api/updateitem', {\n        form: formData,\n        id: _this.prevdata._id\n      }).then(function (res) {\n        //reload the page after uploading image successfully\n        window.location = '/sell';\n      });\n    };\n    return _this;\n  }\n  _createClass(Form, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var errmsg = this.state.err ? /*#__PURE__*/React.createElement(\"div\", {\n        className: \"alert alert-danger\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"strong\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 9\n        }\n      }, \"Error: \"), \" Images Only!\") : '';\n      var categories = this.props.categories.map(function (category, index) {\n        return /*#__PURE__*/React.createElement(\"option\", {\n          key: category._id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 9\n          }\n        }, category.name);\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.submitForm,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlSelect1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 13\n        }\n      }, \"Category\"), /*#__PURE__*/React.createElement(\"select\", {\n        className: \"form-control\",\n        id: \"exampleFormControlSelect1 \",\n        defaultValue: this.prevdata.category,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 13\n        }\n      }, categories)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlInput1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }\n      }, \"Name Of Item\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"exampleFormControlInput1\",\n        placeholder: \"eg:Harry Potter Books\",\n        defaultValue: this.prevdata.name,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlInput1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 13\n        }\n      }, \"Expected Price(Approx)\"), /*#__PURE__*/React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        id: \"exampleFormControlInput1\",\n        defaultValue: this.prevdata.price,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }\n      }, /*#__PURE__*/React.createElement(\"label\", {\n        htmlFor: \"exampleFormControlTextarea1\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }\n      }, \"Short Description\"), /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"form-control\",\n        id: \"exampleFormControlTextarea1\",\n        rows: \"3\",\n        defaultValue: this.prevdata.desc,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }\n      })), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 11\n        }\n      }, \" Submit \")), /*#__PURE__*/React.createElement(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 9\n        }\n      }), errmsg);\n    }\n  }]);\n  return Form;\n}(Component);\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    userLoggedIn: state.userLoggedIn,\n    user: state.user\n  };\n};\nexport default connect(mapStateToProps)(withRouter(Form));","map":{"version":3,"names":["React","Component","axios","connect","withRouter","Form","_Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","state","files","imageAvailable","err","prevdata","props","formdata","submitForm","e","preventDefault","formData","category","target","value","name","price","desc","timestamp","Date","owner","user","username","status","post","form","id","_id","then","res","window","location","_createClass","key","render","_this2","errmsg","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","categories","map","index","onSubmit","htmlFor","defaultValue","type","placeholder","rows","mapStateToProps","userLoggedIn"],"sources":["D:/BESit/client/src/components/Sell/Editform.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nclass Form extends Component {\r\n  state = {\r\n    files: null,\r\n    imageAvailable: false,\r\n    err: false\r\n  }\r\n\r\n  prevdata=this.props.formdata;\r\n\r\n  submitForm = (e) => {\r\n        e.preventDefault();\r\n        if (this.state.err) {\r\n            return;\r\n        }\r\n        const formData = {\r\n        category: e.target[0].value,\r\n        name: e.target[1].value,\r\n        price: e.target[2].value,\r\n        desc: e.target[3].value,\r\n        timestamp: Date(),\r\n        owner: this.props.user.username,\r\n        status: 'Available'\r\n        };\r\n\r\n        axios.post('/api/updateitem', {form:formData,id:this.prevdata._id})\r\n        .then(res => {\r\n            //reload the page after uploading image successfully\r\n           window.location = '/sell';\r\n        });\r\n  }\r\n\r\n  render() {\r\n    let errmsg = this.state.err ? (\r\n      <div className=\"alert alert-danger\">\r\n        <strong>Error: </strong> Images Only!\r\n      </div>\r\n    ) : ('');\r\n    let categories = this.props.categories.map((category,index) => {\r\n      return (\r\n        <option key={category._id}>{category.name}</option>\r\n      )\r\n    });\r\n\r\n    return (\r\n      <div>\r\n        <form onSubmit={this.submitForm}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlSelect1\">Category</label>\r\n            <select className=\"form-control\" id=\"exampleFormControlSelect1 \" defaultValue={this.prevdata.category} > \r\n              {categories}\r\n            </select>\r\n          </div>\r\n          \r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlInput1\">Name Of Item</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"exampleFormControlInput1\" placeholder=\"eg:Harry Potter Books\" defaultValue={this.prevdata.name} ></input>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlInput1\">Expected Price(Approx)</label>\r\n            <input type=\"text\" className=\"form-control\" id=\"exampleFormControlInput1\" defaultValue={this.prevdata.price} ></input>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"exampleFormControlTextarea1\">Short Description</label>\r\n            <textarea className=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\" defaultValue={this.prevdata.desc} ></textarea>\r\n          </div>\r\n          <button className=\"btn btn-primary\" type=\"submit\"> Submit </button>\r\n        </form>\r\n        <br />\r\n        {errmsg}\r\n      </div>\r\n    )\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    userLoggedIn: state.userLoggedIn,\r\n    user: state.user\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Form));"],"mappings":"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"},"metadata":{},"sourceType":"module"}