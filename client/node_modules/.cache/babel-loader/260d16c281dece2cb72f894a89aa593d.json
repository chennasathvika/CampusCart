{"ast":null,"code":"import _classCallCheck from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"D:\\\\BESit\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"D:\\\\BESit\\\\client\\\\src\\\\components\\\\Comments\\\\CommentListReq.js\";\nimport React, { Component } from 'react';\nimport Comment from './Comment';\nimport axios from 'axios';\nvar CommentListReq = /*#__PURE__*/function (_Component) {\n  _inherits(CommentListReq, _Component);\n  function CommentListReq() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, CommentListReq);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(CommentListReq)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      comments: []\n    };\n    _this.handleDeleteComment = function (id) {\n      var comments = _this.state.comments.filter(function (comment) {\n        return comment._id != id;\n      });\n      _this.setState({\n        comments: comments\n      });\n      axios.post('/comment/deletecomment', {\n        id: id\n      });\n    };\n    _this.handlePost = function (e) {\n      e.preventDefault();\n      // Add a new comment\n      var comment = {\n        text: e.target[0].value,\n        owner: _this.props.requirement.username,\n        username: _this.props.username,\n        itemName: _this.props.requirement.title,\n        itemID: _this.props.requirement._id,\n        timestamp: new Date()\n      };\n      e.target[0].value = '';\n      var comments = _this.state.comments;\n      axios.post('/comment/addcomment', comment).then(function (res) {\n        comments.push(res.data);\n        _this.setState({\n          comments: comments\n        });\n      });\n    };\n    return _this;\n  }\n  _createClass(CommentListReq, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n      axios.get('/comment/getcomments', {\n        params: {\n          id: this.props.id\n        }\n      }).then(function (res) {\n        var comments = res.data;\n        _this2.setState({\n          comments: comments\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n      var comments = this.state.comments.map(function (comment, index) {\n        return /*#__PURE__*/React.createElement(Comment, {\n          comment: comment,\n          key: index,\n          handleDeleteComment: _this3.handleDeleteComment,\n          username: _this3.props.username,\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 5\n          }\n        });\n      });\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"comment-container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 4\n        }\n      }, /*#__PURE__*/React.createElement(\"form\", {\n        onSubmit: this.handlePost,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 5\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"form-group shadow-textarea\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 6\n        }\n      }, /*#__PURE__*/React.createElement(\"textarea\", {\n        className: \"form-control z-depth-1\",\n        id: \"exampleFormControlTextarea6\",\n        rows: \"3\",\n        placeholder: \"Write something here...\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 7\n        }\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"btn btn-primary post-btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 7\n        }\n      }, \"Post\"))), /*#__PURE__*/React.createElement(\"div\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 5\n        }\n      }, comments));\n    }\n  }]);\n  return CommentListReq;\n}(Component);\nexport { CommentListReq as default };","map":{"version":3,"names":["React","Component","Comment","axios","CommentListReq","_Component","_inherits","_getPrototypeOf2","_this","_classCallCheck","_len","arguments","length","args","Array","_key","_possibleConstructorReturn","_getPrototypeOf","call","apply","concat","state","comments","handleDeleteComment","id","filter","comment","_id","setState","post","handlePost","e","preventDefault","text","target","value","owner","props","requirement","username","itemName","title","itemID","timestamp","Date","then","res","push","data","_createClass","key","componentDidMount","_this2","get","params","render","_this3","map","index","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","rows","placeholder","default"],"sources":["D:/BESit/client/src/components/Comments/CommentListReq.js"],"sourcesContent":["import React, { Component } from 'react'\r\nimport Comment from './Comment';\r\nimport axios from 'axios';\r\n\r\nexport default class CommentListReq extends Component {\r\n\tstate = {\r\n\t\tcomments: []\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\taxios.get('/comment/getcomments', {\r\n\t\t\tparams: {\r\n\t\t\t\tid: this.props.id\r\n\t\t\t}\r\n\t\t})\r\n\t\t\t.then(res => {\r\n\t\t\t\tlet comments = res.data;\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcomments\r\n\t\t\t\t})\r\n\t\t\t});\r\n\t}\r\n\r\n\thandleDeleteComment = (id) => {\r\n\t\tlet comments = this.state.comments.filter(comment => {\r\n\t\t\treturn (comment._id != id);\r\n\t\t});\r\n\t\tthis.setState({\r\n\t\t\tcomments\r\n\t\t});\r\n\t\taxios.post('/comment/deletecomment', {\r\n\t\t\tid\r\n\t\t});\r\n\t}\r\n\r\n\thandlePost = (e) => {\r\n\t\te.preventDefault();\r\n\t\t// Add a new comment\r\n\t\tlet comment = {\r\n\t\t\ttext: e.target[0].value,\r\n\t\t\towner: this.props.requirement.username,\r\n\t\t\tusername: this.props.username,\r\n\t\t\titemName: this.props.requirement.title,\r\n\t\t\titemID: this.props.requirement._id,\r\n\t\t\ttimestamp: new Date()\r\n\t\t}\r\n\t\te.target[0].value = '';\r\n\t\tlet comments = this.state.comments;\r\n\t\taxios.post('/comment/addcomment', comment)\r\n\t\t\t.then(res => {\r\n\t\t\t\tcomments.push(res.data);\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tcomments\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tlet comments = this.state.comments.map((comment, index) => {\r\n\t\t\treturn (\r\n\t\t\t\t<Comment comment={comment} key={index} handleDeleteComment={this.handleDeleteComment} username={this.props.username} />\r\n\t\t\t)\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div className=\"comment-container\">\r\n\t\t\t\t<form onSubmit={this.handlePost}>\r\n\t\t\t\t\t<div className=\"form-group shadow-textarea\">\r\n\t\t\t\t\t\t<textarea className=\"form-control z-depth-1\" id=\"exampleFormControlTextarea6\" rows=\"3\" placeholder=\"Write something here...\"></textarea>\r\n\t\t\t\t\t\t<button className=\"btn btn-primary post-btn\">Post</button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</form>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{comments}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}